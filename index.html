<!DOCTYPE html>
<html lang="en">
<head>
    <script src="aframe.min.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v1.14.0/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="main.js"></script>
    <script>
        AFRAME.registerComponent("toggle-main-lights", {
        init: function() {
            var state = true;
            var self = this.el;
            self.addEventListener("click", function(evt) {
                var newIntensity;
                if (state) {
                    newIntensity = 0;
                    state = false;
                    document.querySelector("#Lever").emit("lightOff");
                } else {
                    newIntensity = 0.75;
                    state = true;
                    document.querySelector("#Lever").emit("lightOn")
                }

                var lights = document.querySelectorAll(".MainLighting");
                for (var i = 0; i < lights.length; i++) {
                    lights[i].setAttribute("light", {intensity: newIntensity}, false);
                }
            });
        }
    });
    AFRAME.registerComponent("door-toggle", {
                init: function() {
                    var open = false;
                    var self = this.el;
                    self.addEventListener("click", function(evt) {
                        if (open) {
                            open = false;
                            self.emit("doorClosing");
                        } else {
                            open = true;
                            self.emit("doorOpening");
                        }
                    })
                }
            });
    </script>
    

    <title>VR Project1</title>
</head>
<body>
    <a-scene fog="color: #000000; far: 0; type: linear;" shadow="receive: true; cast: true;">
        <a-entity light="type: ambient; intensity: 0.01"></a-entity>

        
        
        <a-assets>
            <!--<a-asset-item id="computer" src="Assets/computer/scene.gltf"></a-asset-item>
            <a-asset-item id="computer_desk" src="Assets/computer_desk/myDesk.gltf"></a-asset-item>
            <a-asset-item id="chair" src="Assets/Chair/scene.gltf"></a-asset-item>
            <a-asset-item id="pc" src="Assets/low_poly_gaming_desk/scene.gltf"></a-asset-item>
            -->
                <a-asset-item id="book" src="Assets/Books/scene.gltf"></a-asset-item>-->
                <a-asset-item id="chair" src="Assets/waiting_chairs/scene.gltf"></a-asset-item>
                <a-asset-item id="tv" src="Assets/Television/scene.gltf"></a-asset-item>
                <a-asset-item id="tv_stand" src="Assets/TV_stand/TV stand.gltf"></a-asset-item>
                <a-asset-item id="bookshelf" src="Assets/books_table/scene.gltf"></a-asset-item>
                <a-asset-item id="ceiling_light" src="Assets/ceiling_light/scene.gltf"></a-asset-item>
                <a-asset-item id="security_camera" src="Assets/security_camera/scene.gltf"></a-asset-item>
                <a-asset-item id="office_desk" src="Assets/office_desk/scene.gltf"></a-asset-item>
                <a-asset-item id="professors_desk" src="Assets/professors_desk/scene.gltf"></a-asset-item>
                <a-asset-item id="professor_book_shelf" src ="Assets/professor_book_shelf/scene.gltf"></a-asset-item>
                <img id ="sky" src="images/sky.jpg">
        </a-assets>
                <a-text value="Click to Open/Close Door" align="center" width="6" position="-14.86 5.5 6.7" rotation="0 90 0" color="red"></a-text>
            <!-- Door -->
            <a-entity door-toggle class="intersectable" position="-15 2.5 8" rotation="0 0 0">

                <a-entity geometry="primitive: box; depth: 3; height: 5; width: 0.1" material="src: url(images/wood.jpg); repeat: 17.5 1.25; metalness: 0; roughness: 1" position="0 0 -1.5"></a-entity>
                <a-entity geometry="primitive: sphere; radius: 0.25" material="color:yellow" position="0 0 -2.5"></a-entity>
                <a-animation attribute="rotation" begin="doorOpening" from="0 0 0" to="0 90 0" dur="500"></a-animation>
                <a-animation attribute="rotation" begin="doorClosing" from="0 90 0" to="0 0 0" dur="500"></a-animation>
            </a-entity>
                
            <!--East wall-->
                <a-entity geometry="primitive: box; depth: 20; height: 10; width: 0.2" position="-45 5 0" material="src: url(images/wall.jpg); repeat: 17.5 1.25; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 15; height: 10; width: 0.2" position="-15 5 -2.5" material="src: url(images/wall.jpg);shader: flat; side: double; opacity: 1; repeat: 15 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 2; height: 10; width: 0.2" position="-15 5 9" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 2 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 3; height: 5; width: 0.2" position="-15 7.5 6.5" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 3 5; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 10; height: 10; width: 0.2" position="-30 5 -5" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 3 5; metalness: 0; roughness: 1"></a-entity>
            <!--North wall-->
                <a-entity geometry="primitive: box; depth: 0.2; height:10; width: 30" position="0 5 10" material="src: url(images/wall.jpg); repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 0.2; height:5; width: 30" position="-30 7.5 10" material="src: url(images/wall.jpg); repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 0.2; height:10; width: 27.5" position="-31.25 5 10" material="src: url(images/wall.jpg); repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
            <!--west wall-->
                <a-entity geometry="primitive: box; depth: 20; height: 10; width: 0.2" position="15 5 0" material="src: url(images/wall.jpg); repeat: 17.5 1.25; metalness: 0; roughness: 1"></a-entity>
           
            <!--South Wall-->
                <a-entity geometry="primitive: box; depth: 0.2; height:10; width: 90" position="-30 5 -10" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 0.2; height:4; width: 30" position="-30 8 0" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 0.2; height:6; width: 10" position="-40 3 0" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 0.2; height:6; width: 10" position="-25 3 0" material="src: url(images/wall.jpg); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>

            <!--Research Paper on wall-->
                <a-entity geometry='primitive: box; depth:0.01; height: 4; width: 7' position ="0.5 6.2 -9.75" material="src:url(images/Paper.jpg)"></a-entity>
            <!--floor-->
                <a-entity geometry="primitive: box; depth: 20; height:0.1; width: 30" position="0 0 0" material="src: url(images/floor.png); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 20; height:0.1; width: 30" position="-30 0 0" material="src: url(images/floor.png); shader: flat; side: double; opacity: 1; repeat: 30 10; metalness: 0; roughness: 1"></a-entity>
            <!--Ceiling-->
                <a-entity geometry="primitive: box; depth: 20; height:0.1; width: 30" position="0 10 0" material="src: url(images/ceiling.jpg); shader: flat; side: double; opacity: 1; repeat: 10 15; metalness: 0; roughness: 1"></a-entity>
                <a-entity geometry="primitive: box; depth: 20; height:0.1; width: 30" position="-30 10 0" material="src: url(images/ceiling.jpg); shader: flat; side: double; opacity: 1; repeat: 10 15; metalness: 0; roughness: 1"></a-entity>

            <!--Grass outside-->
                <a-entity geometry="primitive: box; depth: 500; height: 0.05; width: 500" position="0 0 0" material="src: url(images/grass.jpeg); repeat: 500 500; metalness: 0; roughness: 1"></a-entity>
            <!-- RUG -->
                <a-entity geometry="primitive: box; depth: 5; height: 0.2; width: 6" position="-1 0 0.35" rotation ="0 90 0" material="src: url(images/rug.jpeg); repeat: 5 6; roughness: 1; metalness: 0"></a-entity>

            <!-- Baseboard and crowning on walls-->
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 60" rotation="0 0 90" position="-15 0.05 -9.9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 60" rotation="0 0 90" position="-15 9.9 -9.9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="14.9 0.05 0" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="14.9 9.9 0" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="-14.9 9.9 0" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 14.9" rotation="0 90 90" position="-14.9 0.05 -2.5" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 2.1" rotation="0 90 90" position="-14.9 0.05 9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 30" rotation="0 0 90" position="0 0.05 9.9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 60" rotation="0 0 90" position="-15 9.9 9.9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="-44.9 0.05 0" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="-44.9 9.9 0" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 14.9" rotation="0 90 90" position="-15.1 0.05 -2.5" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 2.1" rotation="0 90 90" position="-15.1 0.05 9" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 20" rotation="0 90 90" position="-15.1 9.9 " material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 30" rotation="0 0 90" position="-30 9.9 0.1" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 10" rotation="0 0 90" position="-25 0.05 0.1" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 10" rotation="0 0 90" position="-40 0.05 0.1" material="color: white"></a-entity>
                <a-entity geometry="primitive: cylinder; radius: 0.05; height: 27.5" rotation="0 0 90" position="-31.25 0.05 9.9" material="color: white"></a-entity>

            <!--Sky-->
            <a-sky src="#sky"></a-sky>
            <a-entity position="0 0 0">
                <a-camera universal-controls>
                    <a-entity raycaster="far: 150; objects: .intersectable" cursor geometry="primitive: ring; radiusOuter: 0.015;
                              radiusInner: 0.01; segmentsTheta: 32" material="color: #283644; shader: flat" position="0 0 -0.75"></a-entity>
                </a-camera>
            </a-entity>
            <!-- Light Switch -->
            <a-entity toggle-main-lights class="intersectable" position="-13.5, 1.5, 9.9">
                <a-text value="Light switch" align="center" width="6" position="0 1 0" color="red" rotation="0 180 0"></a-text>
                <a-entity geometry="primitive: box; depth: 0.1; height: 0.5; width: 0.25" material="color: lightgrey"></a-entity>
                <a-entity id="Lever" geometry="primitive: box; depth: 0.3; height: 0.1; width: 0.1" material="color: white" rotation="45 0 0">
                    <a-animation attribute="rotation" begin="lightOn" from="-45 0 0" to="45 0 0" dur="500"></a-animation>
                    <a-animation attirbute="rotation" begin="lightOff" from="45 0 0" to="-45 0 0" dur="500"></a-animation>
                </a-entity>
            </a-entity>
            
            <!--waiting_chairs
                <a-entity  position="1.5 0.1 0.75">
                <a-gltf-model src="#chair" scale="0.003 0.003 0.003" rotation="0 270 0"></a-gltf-model>
                </a-entity>
                <a-entity  position="9.5 0.1 -6.75">
                <a-gltf-model src="#chair" scale="0.003 0.003 0.003" rotation="0 0 0"></a-gltf-model>
                </a-entity>
            -->
            <!--tv
                <a-entity  position="-13.5 3.35 0.2">
                <a-gltf-model src="#tv" scale="2 2 1.5" rotation="0 90 0"></a-gltf-model>
                </a-entity>
            -->
            <!--TV_stand
                <a-entity  position="-13 0.1 2.5">
                <a-gltf-model src="#tv_stand" scale="4 4 4" rotation="0 90 0"></a-gltf-model>
                </a-entity>
            -->
            <!--Table near chair-->
            <!--self made model-
                <a-cylinder position = "0.5 0.1 2.5" radius="0.05" height="2.2"  src="images/wood.jpg"></a-cylinder>
                <a-cylinder position = "-2 0.1 -2.0" radius="0.05" height="2.2" src="images/wood.jpg"></a-cylinder>
                <a-cylinder position = "-2. 0.1 2.5" radius="0.05" height="2.2" src="images/wood.jpg"></a-cylinder>
                <a-cylinder position = "0.5 0.1 -2.0" radius="0.05" height="2.2" src="images/wood.jpg"></a-cylinder>
                <a-box position="-1 1.2 0.35" scale="3.4 0.1 5.7" src="images/wood.jpg"></a-box>
            -->
            <!--books-
                <a-entity  position="-1.5 1.3 0.85">
                <a-gltf-model src="#book" scale="0.2 0.2 0.2" rotation="0 0 0"></a-gltf-model>
                </a-entity>
            -->
            <!--Book Shelf
                <a-entity  position="-8.8 -0.1 -8.6">
                <a-gltf-model src="#bookshelf" scale="1 1 1" rotation="0 0 360"></a-gltf-model>
                </a-entity>
            -->
            <!-- Ceiling Lights
            
            -->
                <a-entity position="-5 3 0">
                <a-entity class="MainLighting" light="type: point; intensity: 1; distance: 50" position="0 2 0"></a-entity>
                <a-gltf-model src="#ceiling_light" scale="0.015 0.015 0.015"  position="2.5 5 -8.5"></a-gltf-model>
                </a-entity>

                <a-entity position="-5 3 0"> 
                <a-entity class="MainLighting" light="type: point; intensity: 1; distance: 50" position="0 2 0"></a-entity>
                <a-gltf-model src="#ceiling_light" scale="0.015 0.015 0.015" position="2.5 5 8.5"></a-gltf-model>
                </a-entity>
            <!--security camera-->
                <a-entity  position="-13 8.5 -8.75">
                <a-gltf-model src="#security_camera" scale="0.1 0.1 0.1" rotation="0 0 0"></a-gltf-model>
                </a-entity>
            
            <!--office_desk-->
                <a-entity  position="-37.5 0.1 6.3">
                <a-gltf-model src="#office_desk" scale="0.05 0.05 0.04" rotation="0 180 0"></a-gltf-model>
                </a-entity>
            <!--professors_desk-->
                <a-entity  position="-37 0.1 -3.5">
                <a-gltf-model src="#professors_desk" scale="3 3 3" rotation="0 270 0"></a-gltf-model>
                </a-entity>
                <a-entity  position="-21 0.1 -3.5">
                <a-gltf-model src="#professors_desk" scale="3 3 3" rotation="0 270 0"></a-gltf-model>
                </a-entity>
            <!--professor_book_shelf-->
                <a-entity  position="-32 2 -6.5">
                <a-gltf-model src="#professor_book_shelf" scale="2.5 2 2" rotation="0 270 0"></a-gltf-model>
                </a-entity>
                <a-entity  position="-16 2 -6.5">
                <a-gltf-model src="#professor_book_shelf" scale="2.5 2 2" rotation="0 270 0"></a-gltf-model>
                </a-entity>
            <!--mails shelf-->
            <!--self made model-->
                <a-box position="-15.2 2 3.3" scale="0.15 5.5 2.7" src="images/wood.jpg"></a-box>
                <a-box position="-15.9 2 4.7" scale="1.6 5.5 0.07" src="images/wood.jpg"></a-box>
                <a-box position="-15.9 2 2" scale="1.6 5.5 0.07" src="images/wood.jpg"></a-box>
                <a-box position="-15.9 0.05 3.35" scale="1.6 0.05 2.7" src="images/wood.jpg"></a-box>
                <a-box position="-15.9 4.8 3.35" scale="1.6 0.05 2.7" src="images/wood.jpg"></a-box>
                <a-box position="-15.9 1 3.35" scale="1.6 0.05 2.7" src="images/metal.jpg"></a-box>
                <a-box position="-15.9 2 3.35" scale="1.6 0.05 2.7" src="images/metal.jpg"></a-box>
                <a-box position="-15.9 3 3.35" scale="1.6 0.05 2.7" src="images/metal.jpg"></a-box>
                <a-box position="-15.9 4 3.35" scale="1.6 0.05 2.7" src="images/metal.jpg"></a-box>
            <!--Chair-->
            <!--Self made model-->
                <a-box position="-29.22 2.2 9.7" scale="1.8 1.5 0.1" src="images/pillow.jpg"></a-box>
                <a-box position="-29.22 1.47 9.1" scale="1.7 0.1 1.27" src="images/pillow.jpg"></a-box>
                <a-cylinder position="-28.4 0.1 8.5" height="2.7" radius="0.05" src="images/wood.jpg"></a-cylinder>
                <a-cylinder position="-28.4 0.1 9.7" height="2.7" radius="0.05" src="images/wood.jpg"></a-cylinder>
                <a-cylinder position="-30 0.1 9.7" height="2.7" radius="0.05" src="images/wood.jpg"></a-cylinder>
                <a-cylinder position="-30 0.1 8.5" height="2.7" radius="0.05" src="images/wood.jpg"></a-cylinder>
                
            
        </a-scene>   

</body>
</html>